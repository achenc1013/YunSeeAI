[
  {
    "id": "kb_1762346210490_z38pjh9",
    "content": "Linux系统中查看网卡信息的命令是ifconfig",
    "source": "manual",
    "timestamp": 1762346210490,
    "tags": []
  },
  {
    "id": "kb_1762346697026_7efjnre",
    "content": "应急响应首先使用history看历史命令记录",
    "source": "manual",
    "timestamp": 1762346697026,
    "tags": []
  },
  {
    "id": "kb_1762346795723_fio84y8",
    "content": "测试：这是一条测试记录",
    "source": "manual",
    "timestamp": 1762346795723,
    "tags": []
  },
  {
    "id": "kb_1762347923659_lmfgfad",
    "content": "Linux系统安装与基本操作\r\n\r\n安装环境\r\n\r\n配置磁盘挂载点（分区）\r\n\r\n/ 根目录分区 ——> 可以理解成Windows下的C盘。\r\n/boot 引导分区 ——> 系统启动所需要的文件（内核、引导加载器等文件）\r\n/swap 虚拟内存分区——> 在磁盘上专门划分的一块分区，文件系统之外，直接被内核用作交换空间。\r\n\r\n文件系统格式\r\n\r\n新系统一般默认使用xfs，老系统就通常使用ext\r\n\r\n配置基本环境（软件选择）\r\n\r\n初学者推荐Gnome桌面——> 附加Gnome应用程序、互联网应用程序、办公套件、兼容性程序库、开发者工具、安全工具等。\r\n\r\nKDUMP 内核崩坏的检测机制\r\n\r\n可选关闭\r\n\r\n用户设置\r\n\r\n设置ROOT密码\r\n\r\n创建用户\r\n\r\n关闭SeLinux\r\n\r\n\r\n\r\n重启后生效。\r\n\r\n关闭防火墙\r\n\r\n\r\n\r\n永久关闭防火墙\r\n\r\n\r\n\r\n\r\n\r\n磁盘分区的表示方法\r\n\r\n/dev是硬件设备所在的目录\r\n\r\n在/dev目录里可以看到磁盘设备的表示\r\n\r\n\r\n\r\n拓展：如果是SCSI设备将会显示/dev/sda5\r\n\r\n磁盘的顺序号是根据主板上插槽的顺序来识别，就比如主板上第一个硬盘插槽就是a号那么该磁盘的顺序号就是a\r\n\r\n分区的顺序号：1、2、3、4是预留的主分区或扩展分区，5、6、7、8、9...逻辑分区，逻辑分区必须要在扩展分区中创建，操作系统会安装在主分区。而主分区或扩展分区只有4个分区位置，最好是将1、2、3划分为主分区，4划分为扩展分区。分区4里面包含逻辑分区5、6、7...\r\n\r\n操作系统必须安装在主分区上才能引导。\r\n\r\n创建文件系统（格式化）\r\n\r\n目前CentOS7默认使用的文件系统类型是XFS（日志文件系统）、SWAP（交换文件系统）。\r\n\r\nLinux在支持其他的文件交换系统类型：EXT3、EXT4、FAT16、FAT32、NTF5等。\r\n\r\ninode节点和块\r\n\r\n元数据：创建者、创建日期、大小、权限、所有者等。（记录文件属性信息）\r\n\r\n数据块：由多个扇区组成，常见4KB一块，存放文件数据和目录数据。（存储文件内容）\r\n\r\ninode号（读取过程）\r\n\r\n每个文件都会有一个 唯一的编号，这就是 inode号（索引号）\r\n\r\n目录也是有inode号的，可以把目录理解成特殊的文件，而目录里面的存放的文件的文件名即是目录的数据块内容。\r\n\r\n假设我们要去找/var/log/auth.log这个日志文件时，查询分三个流程：\r\n\r\n1. 系统从根目录开始一层层往下查，目录项里存了文件名——>inode号的映射关系\r\n2. 假设查到auth.log对应的inode号为12345，系统会去inode表中搜索12345的inode元数据，元数据记录了文件属性和数据块的指针。\r\n3. 通过指针可以直接定位的数据块存放在何处，最后就可以读取数据内容了。\r\n\r\n!image-20250924010252490\r\n\r\n创建过程\r\n\r\n假设我要创建/root/test.txt文件\r\n\r\n1. 文件系统会在inode表中找到空闲的inode号分配给新文件\r\n2. 根据inode号将文件属性和数据块指针写入到对应的inode元数据中，此时数据块指针为空。\r\n3. 在/root目录的数据块中需要新增test.txt文件名数据\r\n4. 在test.txt数据块中写入内容，写入内容时才会分配数据块，inode元数据中就会记录这些数据块的指针。系统会刻意的去给较大的空间，比如要写2kb数据，系统可能会分配50kb的空间，为了给你预留空间减少碎片。最后当你结束写入数据操作时，系统将会把剩余的数据块进行回收，标记为空闲数据块。\r\n\r\n删除过程\r\n\r\n直接将数据块标记为空闲，此时数据块内容其实并未被删除，而是等待下一次文件存储后使用此空闲的数据块，数据块原来的数据将会被新数据覆盖掉。所以说删除文件，只要不进行存储操作有概率可以去恢复的。如果想彻底删除不等待新文件的覆盖可以使用文件粉碎功能。\r\n\r\nLinux系统引导过程\r\n\r\n开机自检（BIOS）——> MBR引导 ——> GRUB菜单 ——> 加载内核 ——> init进程初始化\r\n\r\n启动电源时会进入开机自检的状态，随后进入MBR引导，从硬盘中找到操作系统目录，最后操作系统进行引导，MBR引导看不到画面。然后进入GRUB菜单，会给你选择进入哪个操作系统。\r\n\r\n\r\n\r\n然后加载系统内核，就是读条。\r\n\r\n\r\n\r\n最后init进程初始化，其实就是加载配置文件。\r\n\r\n\r\n\r\nLinux系统的运行级别\r\n\r\n!image-20250924015019355\r\n\r\n\r\n\r\n系统服务的控制\r\n\r\n\r\n\r\n控制类型：\r\n\r\nstart 启动\r\nstop 停止\r\nrestart 重启\r\nreload 重新加载\r\nstatus 查看服务状态\r\n\r\n服务自启动\r\n\r\n看开机自启的服务\r\n\r\n\r\n\r\n看当前运行的服务\r\n\r\n\r\n\r\n查看系统服务的启动状态\r\n\r\n\r\n\r\n设置系统服务的启动状态\r\n\r\n\r\n\r\n检查服务自启动是排查挖矿程序、木马外连服务等手段之一。\r\n\r\n挖矿木马往往会伪装成系统服务，比如取名sysupdate，并设置为开机自启动，这样设备重启也会继续运行。\r\n\r\nShell命令\r\n\r\n用户输入Shell命令发送给shell程序进行解释传递给系统内核执行。\r\n\r\n接收用户输入的命令 ——> 解释命令 ——> 传递给系统内核执行\r\n\r\n内部命令\r\n\r\n集成于shell解释器程序内部的一些特殊指令，没有单独对应的系统文件；自动载入内存，可以直接使用。\r\n\r\n外部命令\r\n\r\nLinux系统中能够完成特定功能的脚本文件或二进制程序，属于shell解释器程序之外的命令；每个外部命令对应了系统中的一个文件。必须知道对应文件位置才能给shell加载并执行。\r\n\r\n\r\n\r\n sh文件\r\n\r\n命令行格式\r\n\r\n\r\n\r\n命令是区分大小写的。\r\n\r\n选项：短格式选项：使用-符号引导；长格式选项：使用--符号引导\r\n\r\n参数：命令字的处理对象：可以是文件名、绝对路径、相对路径、用户名等。\r\n\r\n\r\n\r\n\r\n\r\n常用快捷键\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n获取命令帮助的方法\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n管道符和重定向\r\n\r\n\r\n\r\n将ls帮助手册内容通过管道符作为col命令的参数随后重定向到ls_help.txt文件中。\r\n\r\ncol过滤掉控制字符 -b选项去掉反向换行保留纯文本\r\n\r\n查看及切换目录\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n相对路径的表现形式\r\n\r\n\r\n\r\n列表显示ls\r\n\r\n- ls\r\n   默认列出当前目录下的文件和子目录（不显示隐藏文件）。\r\n\r\n- ls -a\r\n   显示所有文件，包括以 . 开头的隐藏文件。\r\n\r\n- ls -l\r\n   以长格式显示，包含文件类型、权限、所有者、大小、修改时间等。\r\n\r\n- ls -h\r\n   配合 -l 使用，以人类可读的方式显示文件大小（如 KB、MB）。\r\n\r\n- ls -d\r\n   显示目录本身而不是目录内容。\r\n\r\n- ls --color=auto\r\n\r\n- #### 排序相关选项\r\n\r\n  - ls -t\r\n     按修改时间排序，最新的在前。\r\n  - ls -r\r\n     反转排序顺序（如文件名从 Z 到 A）。\r\n  - ls -S\r\n     按文件大小排序，最大的在前。\r\n  - ls -X\r\n     按文件扩展名排序。\r\n\r\nalias 别名命令\r\n\r\n\r\n\r\n\r\n\r\ndu 统计目录及文件空间占用情况\r\n\r\n\r\n\r\n-a 统计磁盘空间占用包括所有的文件，而不仅仅只统计目录。\r\n\r\n-h 显示出目录或文件的大小（K、M），默认的大小单位为字节（KB）\r\n\r\n-s 只统计每个参数所占用空间的总的大小，而不是统计每个子目录，文件的大小。\r\n\r\nmkdir 创建新目录\r\n\r\n\r\n\r\n常用选项：\r\n\r\n-p 一次创建多层目录\r\n\r\n创建多层，多个目录时要注意绝对路径和相对路径。\r\n\r\ntouch 创建空文件\r\n\r\n\r\n\r\nln 软链接/硬链接\r\n\r\n软链接\r\n\r\n\r\n\r\n将源文件及目录删除后软链接失效\r\n\r\n硬链接\r\n\r\n\r\n\r\n即使将源文件及目录删除硬链接对象也还存在。\r\n\r\ncp 复制\r\n\r\n\r\n\r\n-f覆盖目标同名的文件或目录不提醒强行复制\r\n-i覆盖目标同名文件或目录时提醒用户确认\r\n-p复制时保持源文件的权限、属性及时间等。\r\n-f复制目录时必须使用此选项，表递归复制目录中的文件和子目录。\r\n\r\nrm删除\r\n\r\n\r\n\r\n-r递归删除\r\n-f强制删除\r\n-i删除提醒\r\n\r\nmv 移动/更名\r\n\r\n\r\n\r\nwhich查找命令/文件存放\r\n\r\n搜索范围由环境变量PATH决定\r\n\r\n\r\n\r\n\r\n\r\nfind查找\r\n\r\n\r\n\r\n-name按名称查找\r\n-size按文件大小查找（+4096 -4096）大于4096 小于4096\r\n-user 根据目标用户查找\r\n-type根据文件类型进行查找（文件f 目录d 块设备文件b）\r\n\r\n\r\n\r\ncat查看\r\n\r\n\r\n\r\n-n 赋予显示内容行号\r\n-b 赋予显示内容行号，不包括空行\r\n\r\nmore命令\r\n\r\n\r\n\r\n按Enter键向下逐行滚动\r\n按空格键向下翻一屏\r\n按q键退出\r\n\r\nless命令\r\n\r\n\r\n\r\nPage Up 向上翻页，Page Down 向下翻页\r\n\r\n按\" / \" 键查找内容，\"n\"下一个内容，\"N\"上一个内容\r\n\r\n其他功能与more命令基本类似\r\n\r\nhead命令\r\n\r\n查看文件开头的一部分内容（默认10行）\r\n\r\n-n n为数字，代表显示几行\r\n\r\n\r\n\r\ntail命令\r\n\r\n查看文件结尾的少部分内容（默认10行）\r\n\r\n-n n为数字，代表显示几行\r\n\r\n-f 动态监视文件末行内容\r\n\r\n\r\n\r\nwc命令\r\n\r\n统计文件中的单词数量等信息。\r\n\r\n\r\n\r\n-l 统计行数\r\n\r\n-w 统计单词个数\r\n\r\n-c 统计字节数\r\n\r\n\r\n\r\ngrep命令\r\n\r\n在文件中查找并显示包含指定字符串的行\r\n\r\n\r\n\r\n-i 查找时忽略大小写\r\n-v 反转查找，输出与查找条件不相符的行\r\n\r\n要查找的字符串以双引号括起来。\r\n\"^flag\" 表示以flag开头\r\n\"}$\" 表示以}结尾\r\n\r\n\"^$\" 表示空行\r\n\r\n\r\n\r\ngzip命令、bzip2命令\r\n\r\n制作压缩文件、解开压缩文件\r\n\r\n\r\n\r\n常用-9 -d\r\n\r\ntar命令\r\n\r\n制作归档文件、释放归档文件。\r\n\r\n\r\n\r\n-c 创建.tar格式的包文件\r\n-x 解开.tar格式的包文件\r\n-v 输出详细信息\r\n-f 表示使用归档文件\r\n-p 打包时保留原始文件及目录权限\r\n-t 列出查看包内的文件\r\n-C 解包时指定释放的目标文件夹\r\n-z 调用gzip程序进行压缩或解压\r\n-j 调用bzip2程序进行压缩或解压\r\n\r\n\r\n\r\nvi/vim命令\r\n\r\n\r\n\r\n命令模式\r\n\r\n!image-20250925190159202\r\n\r\n!image-20250925190252243\r\n\r\n!image-20250925190303847\r\n\r\n!image-20250925190323262\r\n\r\n末行模式\r\n\r\n!image-20250925190343321\r\n\r\n!image-20250925190356080\r\n\r\n!image-20250925190406296\r\n\r\nLinux应用程序编译及安装\r\n\r\n典型的应用程序的目录结构\r\n\r\n| 文件类型                         | 保存目录       |\r\n| -------------------------------- | -------------- |\r\n| 普通执行程序文件                 | /usr/bin       |\r\n| 服务器执行程序文件和管理程序文件 | /usr/sbin      |\r\n| 应用程序配置文件                 | /etc           |\r\n| 日志文件                         | /var/log       |\r\n| 应用程序文档文件                 | /usr/share/doc |\r\n| 应用程序手册页文件               | /usr/share/man |\r\n\r\n常见的软件包封装类型\r\n\r\n| 封装类型             | 说明                                                         |\r\n| -------------------- | ------------------------------------------------------------ |\r\n| rpm软件包            | 扩展名\".rpm\"                                                 |\r\n| deb软件包            | 扩展名\".deb\"                                                 |\r\n| 源代码软件包         | 一般为tar压缩包格式：.tar.gz .tar.bz2 打包原始代码           |\r\n| 附带安装程序的软件包 | 压缩包内提供install.sh、setup安装脚本及安装程序或以\".bin\"格式的单个执行文件提供 |\r\n| 绿色免安装的软件包   | 直接编译好的可执行程序，直接使用。                           |\r\n\r\nRPM包管理工具\r\n\r\n\r\n\r\nbash程序名称\r\n4.1.2版本号\r\n15.e16_4发布次数\r\nx86_64支持的系统架构\r\n.rpm扩展名\r\n\r\n查询已安装的RPM软件信息\r\n\r\n\r\n\r\n-qa 查看系统中已安装的所有RPM软件的列表\r\n-qi查看指定软件的详细信息\r\n-ql查询指定软件包所安装的目录、文件列表\r\n-qc仅显示指定软件安装的配置文件\r\n-qd仅显示指定软件包安装的文档文件\r\n\r\n查询文件或目录属于哪个RPM软件\r\n\r\n\r\n\r\n\r\n\r\n查询未安装的RPM包文件\r\n\r\n\r\n\r\n-qpi通过.rpm包文件查看该软件的详细信息\r\n-qpl查看.rpm安装包所包含的目录、文件列表\r\n-qpc查看.rpm安装包内包含的配置文件列表\r\n-qpd查看.rpm安装包内包含的文档文件列表\r\n\r\n安装或升级RPM软件\r\n\r\n\r\n\r\n-i 安装一个新的.rpm软件包\r\n-U升级某个rpm软件，若原本未安装，则进行安装\r\n-F更新某个rpm软件，若原本未安装，则放弃安装\r\n\r\n卸载指定的RPM软件\r\n\r\n\r\n\r\nRPM辅助选项\r\n\r\n-h下载使用\"#\"显示安装进度\r\n-v显示安装过程的详细信息\r\n\r\n导入验证公钥\r\n\r\n\r\n\r\n源码安装\r\n\r\n1. 下载源码压缩包\r\n2. tar解包到指定目录\r\n3. 配置./configure文件 指定依赖安装的目录\r\n4. make编译生成二进制文件\r\n5. make install 安装程序\r\n\r\n\r\n\r\n启动apache\r\n\r\n\r\n\r\nLinux程序管理与账户\r\n\r\n用户账户管理\r\n\r\n用户账户：超级用户、普通用户、程序用户\r\n\r\n组账户：基本组（私有组）、附加组（公共组）\r\n\r\n基本组：\r\n\r\n1. 创建用户时，会自动创建一个和用户名同名的组。\r\n\r\n2. 用户登录系统或创建新文件时，默认所属的组就是基本组。\r\n\r\n附加组：\r\n\r\n1. 一个用户可以属于多个附加组\r\n2. 当组获得对应的权限时组内的用户都会继承\r\n\r\nUID 用户标识号\r\nGID 组标识号\r\n\r\n\r\n\r\n/etc/passwd文件中存放着用户名称、宿主目录、登陆Shell等基本信息。\r\n\r\n!image-20250927233830535\r\n\r\n!image-20250927233854913\r\n\r\n/etc/shadow文件中存放在每一个用户的密码记录\r\n\r\n\r\n\r\n!image-20250927234042975\r\n\r\n文件的每一行内容包含九个用冒号: 分割的配置字段\r\n\r\n用户名 : 加密后的密码 : 最近修改密码的日期 : 最小使用期限 : 最大使用期限 : 警告期限 : 禁用期 : 账号失效日期 : 保留字段\r\n\r\nuseradd\r\n\r\n\r\n\r\n-u 指定UID标记号\r\n-d 指定宿主目录，默认值为/home/用户名\r\n-e 指定账号失效时间\r\n-g 指定用户的基本组名（UID）\r\n-G 指定用户的附加组名（GID）\r\n-M 不为用户建立并初始化宿主目录\r\n-s 指定用户的登陆Shell\r\n\r\n\r\n\r\n用户账号的初始配置文件\r\n\r\n\r\n\r\n新建用户账号时，从/etc/skel目录中复制而来。\r\n\r\npasswd\r\n\r\n\r\n\r\n常用命令选项\r\n\r\n-d 清空用户的密码，使之无需密码即可登陆\r\n-l 锁定用户账号\r\n-s 查看用户账号的状态（是否背锁定）\r\n-u 解锁用户账户\r\n\r\nusermod\r\n\r\n\r\n\r\n-l 更改用户账号的登陆名称\r\n-L 锁定用户账户\r\n-U 解锁用户账户\r\n\r\nuserdel\r\n\r\n\r\n\r\n添加 -r 选项时，表示连用户的宿主目录一并删除。\r\n\r\n\r\n\r\n组账户管理\r\n\r\n/etc/group 保存组账号基本信息\r\n/etc/gshadow 保存组账号的密码信息\r\n\r\n!image-20250928000600650\r\n\r\ngroupadd\r\n\r\n\r\n\r\n!image-20250928000705245\r\n\r\ngpasswd\r\n\r\n\r\n\r\n设置组账号密码（极少用），添加/删除组成员。\r\n\r\n-a 向组内添加一个用户\r\n-d 从组内删除一个用户成员\r\n-M 组内添加新用户成员时，老成员会被移除（添加多用户以逗号分隔开）\r\n\r\ngroupdel\r\n\r\n\r\n\r\n!image-20250928001130395\r\n\r\n删除组后，组成员除权限外，不受影响。\r\n\r\n\r\n\r\n查询账号相关信息命令\r\n\r\n\r\n\r\n查询用户身份标识\r\n\r\n\r\n\r\n查询用户所属的组\r\n\r\n\r\n\r\n查询用户账号的详细信息\r\n\r\n\r\n\r\n查询已登录到主机的用户信息\r\n\r\n\r\n\r\n设置目录与文件权限及归属\r\n\r\n访问权限：\r\n\r\n读取r 允许查看文件内容，显示目录列表\r\n写入w 允许修改文件内容、允许在目录中新建、移动、删除文件或子目录\r\n可执行x 允许允许程序、切换目录\r\n\r\n归属：\r\n\r\n属主：拥有该文件或目录的用户账号\r\n属组：拥有该文件或目录的组账号\r\n\r\n!image-20250928001808915\r\n\r\nchmod\r\n\r\n!image-20250928001913040\r\n\r\n-R 递归修改指定目录下所有子项\r\n\r\nchown\r\n\r\n\r\n\r\n-R 递归修改指定目录下所有子项\r\n\r\n设置对象底层属性\r\n\r\nlsattr 查看底层权限\r\n\r\n\r\n\r\nchattr修改底层权限\r\n\r\n\r\n\r\n权限添加、剥离、赋予（+ - =）\r\n\r\ni 全锁\r\n目录：可修改已有子对象，不可简历删除子对象\r\n文件：不可删除、改名、追加、修改\r\n\r\na 修改锁\r\n目录：可以建立修改子对象，不可以删除子对象。\r\n文件：可以追加内容，不可以修改删除。（多用于日志）\r\n\r\n\r\n\r\nSetid位于粘滞位\r\n\r\nSET位权限：\r\n\r\n为可执行的文件位置，权限字符为\"s\"\r\n其他用户执行该文件时，将拥有属主或属组权限\r\n\r\nSET为权限类型\r\n\r\nSuid：对属主用户增加SET位权限\r\nSgid：为属组内的用户增加SET位权限\r\n\r\n\r\n\r\n粘滞位\r\n\r\n让多个用户在同一个设置了开放权限的目录中只可以修改属于自己的文件。\r\n\r\n\r\n\r\nLinux磁盘管理与进程计划管理\r\n\r\n磁盘管理\r\n\r\nfdisk命令\r\n\r\n查看或管理磁盘分区\r\n\r\n\r\n\r\n交互模式中常用指令\r\n\r\nm 查看操作指令的帮助信息\r\np 列表查看分区信息\r\nn 新建分区\r\nd 删除分区\r\nt 变更分区类型\r\nw 保存分区设置并退出\r\nq 放弃分区设置并退出\r\n\r\n示例：\r\n\r\n为主机新增一块80GB的SCSI硬盘，对该硬盘进行分区\r\n\r\n1. 划分2个主分区，各20GB，剩余空间作为扩展分区\r\n2. 在扩展分区中建立2个逻辑分区，容量分别为2GB、10GB\r\n3. 将第1个逻辑分区的类型改为swap\r\n4. 确认分区设置情况，保存退出\r\n\r\nmkfs命令\r\n\r\n\r\n\r\n-t 指定文件系统类型\r\n\r\n!image-20251001142829636\r\n\r\n\r\n\r\nmkswap命令\r\n\r\n\r\n\r\n\r\n\r\n查看可用的交换空间容量大小\r\n\r\n\r\n\r\n启动swap\r\n\r\n\r\n\r\n停止swap\r\n\r\nmount命令\r\n\r\n\r\n\r\numount命令\r\n\r\n\r\n\r\n示例：\r\n\r\n建立挂载点目录：/mailbox\r\n挂载分区设备：/dev/sdb1\r\n访问分区设备：\r\n\r\n1. 挂载点目录/mailbox中创建文件进行测试\r\n2. 查看/mailbox目录中的内容\r\n\r\n查看磁盘挂载情况（mount）\r\n\r\n卸载分区设备：/dev/sdb1\r\n\r\n!image-20251001151841621\r\n\r\n永久挂载（自动挂载）\r\n\r\n\r\n\r\n包含需要开机后自动挂载的文件。\r\n\r\n!image-20251001151958657\r\n\r\ndf 命令\r\n\r\n\r\n\r\n\r\n\r\n查看分区空间的使用情况\r\n\r\nLVM\r\n\r\n在传统的 Linux 磁盘管理中，我们会直接在硬盘上分区（如 /dev/sda1, /dev/sda2），然后格式化并挂载。但这样有几个缺点：\r\n\r\n- 分区大小一旦确定就很难修改。\r\n- 跨多个磁盘管理比较麻烦。\r\n- 空间利用率可能不高。\r\n\r\n而LVM的出现就可以让硬盘空间虚拟化，灵活的调整存储。\r\n\r\nLVM的组成结构\r\n\r\nPV 物理卷\r\nVG 卷组\r\nLV 逻辑卷\r\n\r\n/boot 分区存放着引导文件，不能基于LVM创建\r\n\r\n!image-20251001152352003\r\n\r\n将多个磁盘空间切成若干个PE块，然后放到卷组中。逻辑卷可以灵活的调用卷组中的PE块。\r\n\r\n创建PV\r\n\r\n\r\n\r\n创建 VG\r\n\r\n\r\n\r\n创建 LV\r\n\r\n\r\n\r\n!image-20251001152842364\r\n\r\n主要命令\r\n\r\n!image-20251001152938423\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n新增容量\r\n\r\n\r\n\r\n\r\n\r\n新增容量需要格式化才能增加，但是新增容量已经融合进逻辑卷中了，若直接格式化会导致原有逻辑卷中的数据丢失\r\n\r\n\r\n\r\n\r\n\r\n让文件系统去识别并使用新增的空间\r\n\r\n\r\n\r\n示例：\r\n\r\n增加俩快SCSI硬盘并构建LVM逻辑卷（挂载到 /mailbox 目录下）开机自动挂载\r\n\r\n!image-20251001154211659\r\n\r\n!image-20251001154220119\r\n\r\n进程管理与计划任务\r\n\r\n程序和进程的关系\r\n\r\n程序：保存在硬盘、光盘等介质中的可执行代码和数据；静态保存的代码。\r\n\r\n进程：在CPU及内存中运行的程序和代码；动态执行的代码\r\n\r\nps命令\r\n\r\n\r\n\r\n按照内存占用量降序排序\r\n\r\n\r\n\r\n按照CPU占用量降序排序\r\n\r\n\r\n\r\ntop命令\r\n\r\n\r\n\r\n按P 根据CPU占比降序排序\r\n按M 根据内存占比降序排序\r\n\r\npgrep命令\r\n\r\n根据特定条件查询进程PID信息\r\n\r\n\r\n\r\n!image-20251002201006778\r\n\r\npstree命令\r\n\r\n以树形结构列出进程信息\r\n\r\n!image-20251002201057210\r\n\r\na 显示完整信息\r\nu 列出对应用户名\r\np 列出对应PID号\r\n\r\n手工启动\r\n\r\n前台启动：用户直接输入命令，直接执行程序。\r\n后台启动：在命令行尾加入\" & \" 符号\r\n\r\n\r\n\r\n调度启动\r\n\r\n使用at 命令，设置一次性计划任务。\r\n使用crontab命令，设置周期性计划任务\r\n\r\nCtrl + Z 组合键：将当前进程挂起，即调入后台并停止执行。\r\n\r\njobs命令：查看处于后台的任务列表\r\n\r\nfg命令：将后台进程恢复到前台运行，可指定任务序号。\r\n\r\nCtrl + C 组合键：中断正在执行的命令\r\n\r\nkill 命令：用于终止指定PID号的进程\r\nkillall 命令：用于终止指定名称的所有进程\r\n-9 选项用于强制终止\r\n\r\npkill命令\r\n\r\n!image-20251002201901545\r\n\r\n根据特定条件终止相应的进程。\r\n\r\n-U 根据进程所属的用户名终止相应进程\r\n-t 根据进程所在的终端终止相应进程\r\n\r\nat命令\r\n\r\n一次性计划任务\r\n\r\n\r\n\r\n!image-20251002202151110\r\n\r\n案例：\r\n\r\n在当天的21:30 将/etc/hosts 拷贝到/root/hosts_at中\r\n\r\n\r\n\r\natq命令\r\n\r\n\r\n\r\natrm命令\r\n\r\n\r\n\r\n删除第二条任务\r\n\r\ncrontab命令\r\n\r\n按照预先设置的时间周期（分钟、小时、天……） 重复执行用户指定的命令操作。属于周期性计划任务。\r\n\r\n主要设置文件：\r\n\r\n1. 全局配置文件：/etc/crontab\r\n2. 系统默认的设置：/etc/cron.*/\r\n3. 用户定义的设置：/var/spool/cron/用户名\r\n\r\n管理cron计划任务\r\n\r\n编辑计划任务\r\n\r\n\r\n\r\n查看计划任务\r\n\r\n\r\n\r\n删除计划任务\r\n\r\n\r\n\r\nroot用户可以管理指定用户的计划任务。\r\n普通用户只能管理自己的计划任务。\r\n\r\n!image-20251002203004908\r\n\r\n!image-20251002203020205\r\n\r\n!image-20251002203033555",
    "source": "file",
    "sourceDetail": "C:\\Users\\27126\\Desktop\\Linux运维基础.md",
    "timestamp": 1762347923659,
    "tags": [
      "md",
      "Linux运维基础",
      "image",
      "etc",
      "dev",
      "usr",
      "var"
    ]
  }
]